<h1 mat-dialog-title><mat-icon>search</mat-icon> Flights Analysis<h1>
<mat-grid-list cols = "2">
<mat-grid-tile 
   [colspan] = "1"
   [rowspan] = "1">
<form #flightForm="ngForm">
	<div mat-dialog-content>
		<p style="font-weight:normal; font-size:17px;"><mat-icon>airplanemode_active</mat-icon> {{data.airport}}
			<br /><mat-icon>language</mat-icon> {{data.country}}
		</p>
		<mat-card-content>
			<mat-form-field class="full-width">
			  <mat-select placeholder = "Search Mode" 
				 ngModel name = "mode">
				 <mat-option *ngFor = "let mode of data.modes" 
					[value] = "mode.value">
					{{mode.label}}
				 </mat-option>
			  </mat-select>
			</mat-form-field>
			<mat-form-field class="full-width">
			  <mat-select placeholder = "Departing Time" 
				 ngModel name = "duration">
				 <mat-option *ngFor = "let day of data.days" 
					[value] = "day.count">
					Last {{day.count}} day
				 </mat-option>
			  </mat-select>
			</mat-form-field>
		</mat-card-content>
	</div>
	<div mat-dialog-actions>
		<button mat-raised-button color="warn" (click)="onNoClick()">Close</button>
		<button mat-raised-button color="primary" cdkFocusInitial (click)="getFlightDetails(data.icao, flightForm)"><mat-icon>search</mat-icon> Search</button>
	</div>
</form>
</mat-grid-tile>
<mat-grid-tile 
   [colspan] = "1"
   [rowspan] = "1" style="max-height:400px; overflow-y:auto; padding:30px;">
   <mat-accordion *ngIf="flightDetails" class="full-width" style="width:100%; padding:20px">
		<mat-expansion-panel  *ngFor = "let info of flightDetails | slice:0:15;" (opened)="panelOpenState = true" (closed)="panelOpenState = false" style="margin-top:10px;">
			<mat-expansion-panel-header>
			  <mat-panel-title style="color:#444; font-size:13px;">
				Flight ICA024
			  </mat-panel-title>
			  <mat-panel-description style="color:indigo;">
				{{info.icao24 | uppercase}}
			  </mat-panel-description>
			</mat-expansion-panel-header>
			<p><small>Airport</small><br />{{info.estArrivalAirport}}</p>
			<p><small>Take Off Time</small><br />{{info.firstSeen * 1000 | date:'medium'}}</p>
			<p><small>Arriving At</small><br />{{info.lastSeen * 1000 | date:'medium'}}</p>
		</mat-expansion-panel>
   </mat-accordion>
   </mat-grid-tile>
</mat-grid-list>

<div class="clearboth"></div>